/**
 * Tooltip Component Styles - Système d'informations contextuelles modernes
 * @fileoverview Styles complets pour le système de tooltips avec animations, thèmes et accessibilité
 * @author MiniMax Agent
 */

/* Variables CSS pour le theming */
:root {
  /* Couleurs principales */
  --tooltip-primary: #3b82f6;
  --tooltip-primary-light: #dbeafe;
  --tooltip-primary-dark: #2563eb;
  
  --tooltip-secondary: #6b7280;
  --tooltip-secondary-light: #f3f4f6;
  --tooltip-secondary-dark: #4b5563;
  
  --tooltip-success: #10b981;
  --tooltip-success-light: #d1fae5;
  --tooltip-success-dark: #047857;
  
  --tooltip-warning: #f59e0b;
  --tooltip-warning-light: #fef3c7;
  --tooltip-warning-dark: #d97706;
  
  --tooltip-error: #ef4444;
  --tooltip-error-light: #fee2e2;
  --tooltip-error-dark: #dc2626;
  
  --tooltip-info: #3b82f6;
  --tooltip-info-light: #dbeafe;
  --tooltip-info-dark: #2563eb;
  
  --tooltip-dark: #1f2937;
  --tooltip-dark-light: #374151;
  --tooltip-dark-dark: #111827;
  
  --tooltip-light: #ffffff;
  --tooltip-light-light: #f9fafb;
  --tooltip-light-dark: #f3f4f6;

  /* Couleurs de surface */
  --tooltip-surface: #1f2937;
  --tooltip-surface-light: #374151;
  --tooltip-surface-dark: #111827;
  --tooltip-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --tooltip-shadow-dark: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2);

  /* Couleurs de texte */
  --tooltip-text-primary: #f9fafb;
  --tooltip-text-secondary: #d1d5db;
  --tooltip-text-inverse: #1f2937;
  --tooltip-text-muted: #9ca3af;

  /* Espacements */
  --tooltip-spacing-xs: 0.25rem;
  --tooltip-spacing-sm: 0.5rem;
  --tooltip-spacing-md: 0.75rem;
  --tooltip-spacing-lg: 1rem;
  --tooltip-spacing-xl: 1.5rem;

  /* Tailles */
  --tooltip-width-xs: 120px;
  --tooltip-width-sm: 160px;
  --tooltip-width-md: 200px;
  --tooltip-width-lg: 240px;
  --tooltip-width-xl: 280px;
  --tooltip-border-radius: 0.5rem;
  --tooltip-border-radius-sm: 0.375rem;
  --tooltip-border-radius-lg: 0.75rem;

  /* Animations */
  --tooltip-transition-fast: 150ms ease-out;
  --tooltip-transition-normal: 250ms ease-out;
  --tooltip-transition-slow: 350ms ease-in-out;

  /* Z-index */
  --tooltip-z-base: 1000;
  --tooltip-z-overlay: 1050;

  /* Tailles de police */
  --tooltip-font-size-xs: 0.625rem;
  --tooltip-font-size-sm: 0.75rem;
  --tooltip-font-size-md: 0.875rem;
  --tooltip-font-size-lg: 1rem;
  --tooltip-font-size-xl: 1.125rem;

  /* Hauteurs de ligne */
  --tooltip-line-height-xs: 1rem;
  --tooltip-line-height-sm: 1.25rem;
  --tooltip-line-height-md: 1.375rem;
  --tooltip-line-height-lg: 1.5rem;
  --tooltip-line-height-xl: 1.625rem;
}

/* Trigger du tooltip */
.tooltip-trigger {
  display: inline-block;
  position: relative;
  cursor: help;
  outline: none;
}

.tooltip-trigger:focus-visible {
  outline: 2px solid var(--tooltip-primary);
  outline-offset: 2px;
  border-radius: var(--tooltip-border-radius-sm);
}

.tooltip-disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.tooltip-disabled-wrapper {
  display: inline-block;
  cursor: not-allowed;
  opacity: 0.5;
}

/* Tooltip principal */
.tooltip {
  position: absolute;
  pointer-events: none;
  background: var(--tooltip-surface);
  color: var(--tooltip-text-primary);
  border-radius: var(--tooltip-border-radius);
  box-shadow: var(--tooltip-shadow);
  font-size: var(--tooltip-font-size-md);
  line-height: var(--tooltip-line-height-md);
  font-weight: 400;
  white-space: normal;
  z-index: var(--tooltip-z-base);
  opacity: 0;
  visibility: hidden;
  transform: scale(0.95) translateY(2px);
  transition: all var(--tooltip-transition-normal);
  max-width: var(--tooltip-width-md);
  min-width: 120px;
}

/* États de visibilité */
.tooltip-visible {
  opacity: 1;
  visibility: visible;
  transform: scale(1) translateY(0);
}

.tooltip-hidden {
  opacity: 0;
  visibility: hidden;
  transform: scale(0.95) translateY(2px);
}

/* Contenu du tooltip */
.tooltip-content {
  padding: var(--tooltip-spacing-sm) var(--tooltip-spacing-md);
  display: flex;
  flex-direction: column;
  gap: var(--tooltip-spacing-xs);
}

/* Label et description */
.tooltip-label {
  font-weight: 500;
  color: var(--tooltip-text-primary);
  margin: 0;
}

.tooltip-description {
  font-size: var(--tooltip-font-size-sm);
  color: var(--tooltip-text-secondary);
  line-height: var(--tooltip-line-height-sm);
  margin: 0;
}

/* Flèche du tooltip */
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-style: solid;
  pointer-events: none;
}

/* Positions de la flèche - haut */
.tooltip-arrow--top,
.tooltip-arrow--top-start,
.tooltip-arrow--top-end {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid var(--tooltip-surface);
}

/* Positions de la flèche - bas */
.tooltip-arrow--bottom,
.tooltip-arrow--bottom-start,
.tooltip-arrow--bottom-end {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 8px solid var(--tooltip-surface);
}

/* Positions de la flèche - gauche */
.tooltip-arrow--left,
.tooltip-arrow--left-start,
.tooltip-arrow--left-end {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-left: 8px solid var(--tooltip-surface);
}

/* Positions de la flèche - droite */
.tooltip-arrow--right,
.tooltip-arrow--right-start,
.tooltip-arrow--right-end {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-right: 8px solid var(--tooltip-surface);
}

/* Variantes de couleur */
.tooltip--primary {
  background: var(--tooltip-primary);
  color: white;
}

.tooltip--primary .tooltip-arrow {
  border-top-color: var(--tooltip-primary);
  border-bottom-color: var(--tooltip-primary);
  border-left-color: var(--tooltip-primary);
  border-right-color: var(--tooltip-primary);
}

.tooltip--secondary {
  background: var(--tooltip-secondary);
  color: white;
}

.tooltip--secondary .tooltip-arrow {
  border-top-color: var(--tooltip-secondary);
  border-bottom-color: var(--tooltip-secondary);
  border-left-color: var(--tooltip-secondary);
  border-right-color: var(--tooltip-secondary);
}

.tooltip--success {
  background: var(--tooltip-success);
  color: white;
}

.tooltip--success .tooltip-arrow {
  border-top-color: var(--tooltip-success);
  border-bottom-color: var(--tooltip-success);
  border-left-color: var(--tooltip-success);
  border-right-color: var(--tooltip-success);
}

.tooltip--warning {
  background: var(--tooltip-warning);
  color: white;
}

.tooltip--warning .tooltip-arrow {
  border-top-color: var(--tooltip-warning);
  border-bottom-color: var(--tooltip-warning);
  border-left-color: var(--tooltip-warning);
  border-right-color: var(--tooltip-warning);
}

.tooltip--error {
  background: var(--tooltip-error);
  color: white;
}

.tooltip--error .tooltip-arrow {
  border-top-color: var(--tooltip-error);
  border-bottom-color: var(--tooltip-error);
  border-left-color: var(--tooltip-error);
  border-right-color: var(--tooltip-error);
}

.tooltip--info {
  background: var(--tooltip-info);
  color: white;
}

.tooltip--info .tooltip-arrow {
  border-top-color: var(--tooltip-info);
  border-bottom-color: var(--tooltip-info);
  border-left-color: var(--tooltip-info);
  border-right-color: var(--tooltip-info);
}

.tooltip--dark {
  background: var(--tooltip-dark);
  color: white;
}

.tooltip--dark .tooltip-arrow {
  border-top-color: var(--tooltip-dark);
  border-bottom-color: var(--tooltip-dark);
  border-left-color: var(--tooltip-dark);
  border-right-color: var(--tooltip-dark);
}

.tooltip--light {
  background: var(--tooltip-light);
  color: var(--tooltip-text-inverse);
  border: 1px solid #e5e7eb;
}

.tooltip--light .tooltip-arrow {
  border-top-color: var(--tooltip-light);
  border-bottom-color: var(--tooltip-light);
  border-left-color: var(--tooltip-light);
  border-right-color: var(--tooltip-light);
}

.tooltip--light .tooltip-label {
  color: var(--tooltip-text-inverse);
}

.tooltip--light .tooltip-description {
  color: var(--tooltip-text-muted);
}

/* Tailles */
.tooltip--xs {
  max-width: var(--tooltip-width-xs);
  font-size: var(--tooltip-font-size-xs);
  line-height: var(--tooltip-line-height-xs);
  border-radius: var(--tooltip-border-radius-sm);
}

.tooltip--xs .tooltip-content {
  padding: var(--tooltip-spacing-xs) var(--tooltip-spacing-sm);
}

.tooltip--xs .tooltip-arrow {
  border-width: 6px;
}

.tooltip--sm {
  max-width: var(--tooltip-width-sm);
  font-size: var(--tooltip-font-size-sm);
  line-height: var(--tooltip-line-height-sm);
  border-radius: var(--tooltip-border-radius-sm);
}

.tooltip--sm .tooltip-content {
  padding: var(--tooltip-spacing-xs) var(--tooltip-spacing-sm);
}

.tooltip--sm .tooltip-arrow {
  border-width: 6px;
}

.tooltip--md {
  max-width: var(--tooltip-width-md);
  font-size: var(--tooltip-font-size-md);
  line-height: var(--tooltip-line-height-md);
}

.tooltip--lg {
  max-width: var(--tooltip-width-lg);
  font-size: var(--tooltip-font-size-lg);
  line-height: var(--tooltip-line-height-lg);
}

.tooltip--lg .tooltip-content {
  padding: var(--tooltip-spacing-md) var(--tooltip-spacing-lg);
}

.tooltip--xl {
  max-width: var(--tooltip-width-xl);
  font-size: var(--tooltip-font-size-xl);
  line-height: var(--tooltip-line-height-xl);
}

.tooltip--xl .tooltip-content {
  padding: var(--tooltip-spacing-md) var(--tooltip-spacing-lg);
}

/* États spéciaux */
.tooltip-with-arrow .tooltip-content {
  padding-bottom: var(--tooltip-spacing-sm);
}

.tooltip-no-arrow .tooltip-content {
  padding: var(--tooltip-spacing-md) var(--tooltip-spacing-lg);
}

.tooltip-clickable {
  cursor: pointer;
}

.tooltip-follow-cursor {
  cursor: none;
}

/* Troncature de texte */
.tooltip-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.tooltip-multiline {
  white-space: normal;
  word-wrap: break-word;
  line-height: 1.4;
}

/* Animations d'entrée personnalisées par position */
.tooltip--top.tooltip-visible {
  transform: scale(1) translateY(-4px);
}

.tooltip--bottom.tooltip-visible {
  transform: scale(1) translateY(4px);
}

.tooltip--left.tooltip-visible {
  transform: scale(1) translateX(-4px);
}

.tooltip--right.tooltip-visible {
  transform: scale(1) translateX(4px);
}

/* Responsive Design */
@media (max-width: 640px) {
  .tooltip {
    max-width: calc(100vw - 2rem);
    font-size: var(--tooltip-font-size-sm);
    line-height: var(--tooltip-line-height-sm);
  }
  
  .tooltip-content {
    padding: var(--tooltip-spacing-sm);
  }
  
  .tooltip--lg,
  .tooltip--xl {
    max-width: calc(100vw - 2rem);
  }
}

/* Mode sombre */
@media (prefers-color-scheme: dark) {
  :root {
    --tooltip-surface: #1f2937;
    --tooltip-text-primary: #f9fafb;
    --tooltip-text-secondary: #d1d5db;
  }
}

/* Animations de réduction du mouvement */
@media (prefers-reduced-motion: reduce) {
  .tooltip,
  .tooltip-arrow,
  .tooltip-trigger {
    animation: none !important;
    transition: none !important;
  }
  
  .tooltip-visible {
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
  }
  
  .tooltip-hidden {
    opacity: 0 !important;
    visibility: hidden !important;
    transform: none !important;
  }
}

/* Mode de contraste élevé */
@media (prefers-contrast: high) {
  .tooltip {
    border: 2px solid;
  }
  
  .tooltip--primary {
    border-color: var(--tooltip-primary-dark);
  }
  
  .tooltip--success {
    border-color: var(--tooltip-success-dark);
  }
  
  .tooltip--warning {
    border-color: var(--tooltip-warning-dark);
  }
  
  .tooltip--error {
    border-color: var(--tooltip-error-dark);
  }
  
  .tooltip--info {
    border-color: var(--tooltip-info-dark);
  }
  
  .tooltip--dark {
    border-color: var(--tooltip-dark-dark);
  }
  
  .tooltip--light {
    border-color: var(--tooltip-text-inverse);
  }
}

/* Focus visible pour l'accessibilité */
.tooltip-trigger:focus-visible .tooltip {
  outline: 2px solid var(--tooltip-primary);
  outline-offset: 2px;
}

/* Print styles */
@media print {
  .tooltip {
    display: none !important;
  }
}

/* Support RTL */
[dir="rtl"] .tooltip-trigger {
  direction: rtl;
}

[dir="rtl"] .tooltip--top,
[dir="rtl"] .tooltip--bottom,
[dir="rtl"] .tooltip--top-start,
[dir="rtl"] .tooltip--top-end,
[dir="rtl"] .tooltip--bottom-start,
[dir="rtl"] .tooltip--bottom-end {
  text-align: right;
}

[dir="rtl"] .tooltip-arrow--top-start,
[dir="rtl"] .tooltip-arrow--bottom-start {
  right: var(--tooltip-spacing-md);
  left: auto;
}

[dir="rtl"] .tooltip-arrow--top-end,
[dir="rtl"] .tooltip-arrow--bottom-end {
  left: var(--tooltip-spacing-md);
  right: auto;
}

/* Touch devices */
@media (hover: none) and (pointer: coarse) {
  .tooltip-trigger {
    cursor: default;
  }
  
  .tooltip-clickable {
    cursor: pointer;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .tooltip {
    border-radius: calc(var(--tooltip-border-radius) - 0.5px);
  }
}

/* Custom properties for dynamic theming */
.tooltip[data-theme="auto"] {
  background: var(--tooltip-surface);
  color: var(--tooltip-text-primary);
}

.tooltip[data-theme="light"] {
  background: var(--tooltip-light);
  color: var(--tooltip-text-inverse);
}

.tooltip[data-theme="dark"] {
  background: var(--tooltip-dark);
  color: white;
}

/* Animation keyframes */
@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(2px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes tooltipFadeOut {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.95) translateY(2px);
  }
}

.tooltip-visible {
  animation: tooltipFadeIn var(--tooltip-transition-normal) ease-out;
}

.tooltip-hidden {
  animation: tooltipFadeOut var(--tooltip-transition-normal) ease-in;
}

/* Groupes de tooltips */
.tooltip-group {
  position: relative;
}

.tooltip-group .tooltip {
  position: absolute;
}

/* Utility classes */
.tooltip-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.tooltip-invisible {
  visibility: hidden;
  opacity: 0;
}

.tooltip-visible-force {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Custom spacing utilities */
.tooltip-spacing-tight .tooltip-content {
  padding: var(--tooltip-spacing-xs) var(--tooltip-spacing-sm);
}

.tooltip-spacing-normal .tooltip-content {
  padding: var(--tooltip-spacing-sm) var(--tooltip-spacing-md);
}

.tooltip-spacing-loose .tooltip-content {
  padding: var(--tooltip-spacing-md) var(--tooltip-spacing-lg);
}
